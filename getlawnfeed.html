<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download Lawnfeed #StayLawn</title>
  </head>
  <body>
    <h1>Lawnfeed</h1>
    <noscript><b style="color: red">For full functionality of this site it is necessary to enable JavaScript.</b></noscript>
    <p>
      In order to have the Google Now page and search bar animations in Lawnchair integrated, you will need to download and install the Lawnfeed APK file.<br />
      Make sure to have "Allow unknown sources" enabled in your security settings, otherwise you might be not able to install!
    </p>
    <p>
      Looking for older versions of Lawnfeed?
      No problem, you can also find them on <a href="https://www.apkmirror.com/apk/deletescape-media/lawnfeed/">APKMirror</a>.
    </p>
    <p><a href="#" id="download">Please wait while we generate your download link...</a></p>
    <hr />
    <p>If you have found this page useful, please <b>donate to keep this page alive</b>.</p>
    <a href="https://www.paypal.me/divadsn/5EUR"><img src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" alt="Donate via PayPal" /></a>
  </body>
  <script type="text/javascript">
    var dl = document.getElementById("download");

    window.addEventListener("load", function() {
      loadJSON("https://storage.codebucket.de/lawnchair/version.json",
        function(data) {
          // Create download link
          var filename = "Lawnfeed-" + data.app_version + ".apk";
          var downloadLink = "https://storage.codebucket.de/lawnchair/" + data.app_version + "/" + filename;

          // Set href and change text
          dl.setAttribute("href", downloadLink);
          dl.setAttribute("download", filename);
          dl.innerHTML = "Download Lawnfeed-" + data.app_version + ".apk";
        },
        function(error) {
          // Change download link to status page
          dl.setAttribute("href", "https://status.razex.de");
          dl.innerHTML = "Couldn't fetch update version, please check again later";
        }
      );
    });

    function loadJSON(path, success, error) {
      var xhr = new XMLHttpRequest();
      xhr.onreadystatechange = function() {
      if (xhr.readyState === XMLHttpRequest.DONE) {
        if (xhr.status === 200) {
          if (success)
            success(JSON.parse(xhr.responseText));
          } else {
          if (error)
            error(xhr);
          }
        }
      };

      xhr.open("GET", path, true);
      xhr.send();
    }
  </script>
</html>
